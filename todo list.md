# Long-Term TODO List - Ad System based on structure.md

## 增强广告设计器功能:
- [x] Canvas绘图工具增强版(使用结构化储存设计好的广告)
    - [x] 图层管理系统
    - [x] 丰富的绘图工具(铅笔、马克笔、荧光笔等)
    - [x] 文本编辑(字体、大小、颜色、对齐等)
    - [x] 形状工具(矩形、圆形、线条等)
    - [x] 图片导入和编辑
    - [x] 滤镜效果
    - [x] 历史记录/撤销
    - [x] 自动保存
    - [x] 模板系统
    - [x] 快捷键支持

## 扩展管理员功能:
### A. 广告管理
- [x] 广告位管理
    - [x] 位置设置
    - [x] 尺寸配置
    - [ ] 投放策略
    - [ ] A/B测试
- [ ] 广告审核流程
    - [ ] 多级审核
    - [ ] 审核记录
    - [ ] 违规检测
- [ ] 定价系统
    - [ ] 时间段定价
    - [ ] 位置定价
    - [ ] 竞价系统
    - [ ] 折扣管理
- [ ] 投放控制
    - [ ] 精准投放
    - [ ] 地域投放 (ps: 获取地域信息可以通过api: https://whois.pconline.com.cn/ipJson.jsp?ip=120.24.212.59&json=true ，返回{"ip":"120.24.212.59","pro":"广东省","proCode":"440000","city":"深圳市","cityCode":"440300","region":"","regionCode":"0","addr":"广东省深圳市 电信","regionNames":"","err":""})
    - [ ] 设备投放
    - [ ] 时间投放
    
### B. 用户管理
- [x] 广告主管理
    - [ ] 信用评级
    - [ ] 消费等级
    - [ ] 投放限制
- [x] 管理员权限
    - [x] 角色管理
    - [x] 权限分配
    - [ ] 操作日志
    
### C. 财务管理
- [ ] 订单系统
- [ ] 计费规则
- [ ] 退款处理
- [ ] 发票管理
- [ ] 收支报表

### D. 系统配置
- [ ] 广告类型配置
- [ ] 投放策略配置
- [ ] 违规词管理
- [ ] 系统通知
- [ ] 备份恢复

## 数据分析指标:
### A. 广告效果分析
- [ ] 展示量(PV)
    - [ ] 按时间统计
    - [ ] 按地域统计
    - [ ] 按设备统计
- [ ] 点击率(CTR)
    - [ ] 实时点击率
    - [ ] 历史趋势
    - [ ] 对比分析
- [ ] 转化率
    - [ ] 转化漏斗
    - [ ] 转化路径
    - [ ] ROI分析
- [ ] 互动数据
    - [ ] 停留时间
    - [ ] 互动行为
    - [ ] 热力图

### B. 受众分析
- [ ] 用户画像
    - [ ] 年龄分布
    - [ ] 性别比例
    - [ ] 兴趣标签
- [ ] 地域分布
    - [ ] 省市分布
    - [ ] 热门城市
- [ ] 设备分析
    - [ ] 设备类型
    - [ ] 浏览器占比
    - [ ] 分辨率分布

### D. 财务分析
- [ ] 收入趋势
- [ ] 客户价值
- [ ] 广告位ROI
- [ ] 定价优化

## API 接口设计:
### RESTful API:
### A. 广告管理API
- [x] 创建广告
- [x] 修改广告
- [x] 查询广告
- [x] 删除广告
- [ ] 广告状态管理

### B. 数据API
- [ ] 获取展示数据
- [ ] 获取点击数据
- [ ] 获取转化数据
- [ ] 自定义报表

### C. 广告位API
- [x] 获取可用广告位
- [ ] 预定广告位
- [ ] 查询价格
- [ ] 投放状态

### D. 账户API
- [x] 账户管理
- [x] 余额查询
- [x] 消费记录
- [ ] 订单管理

## 认证与安全:
- [ ] OAuth2.0认证
- [ ] API密钥管理
- [ ] 访问频率限制
- [ ] 数据加密传输
- [ ] 所有php报错都要用自定义函数记录在数据库中，生成一个数据可视化大屏，方便运维查看和定位错误 (Error Dashboard)
- [ ] 使用csrf和Proof of Work加强安保

## 当前进度和下一步计划:

### 已完成:
- ✅ 基础框架搭建
- ✅ 数据库设计和创建
- ✅ 管理员认证和控制面板
- ✅ 广告位管理功能
- ✅ 广告管理(CRUD)
- ✅ 广告主控制面板
- ✅ 广告创建和设计工具

### 下一步:
1. 实现广告展示和追踪功能
   - 展示广告的API接口
   - 广告展示追踪
   - 点击追踪
   - 转化追踪

2. 数据分析仪表板
   - 基础指标展示
   - 筛选和过滤功能
   - 图表可视化

3. 地域投放功能
   - IP定位功能
   - 广告定向投放控制
